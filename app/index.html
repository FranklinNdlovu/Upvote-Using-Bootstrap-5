<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.1.1/css/all.css">
    <link rel="stylesheet" href="../public/styles.css">

    <title>UpVote!</title>
</head>

<body>

    <div class="container mt-5 " id="app">
        <h2 class="text-center dividing-header">UpVote!</h2>


        <div class="section">
            <div v-for ="submission in sortedSubmissions" v-bind:key="submission.id" class="d-flex align-items-centre media" v-bind:class="{'blue-border' : submission.votes>=20}">
                <div class="flex-shrink-0">
                    <img class="image is-64x64" v-bind:src="submission.submissionImage"
                        alt="Sample Image">
                </div>
                <div class="flex-grow-1 ms-3">
                    <h5>
                        <a v-bind:href="submission.url" class="text-primary">{{submission.title}}</a>
                        <small class="tag text-muted">#{{submission.id}}</small>
                    </h5>
                    <p>
                        {{submission.description}}
                        <br />
                    <div class="d-flex">
                        <small class="is-size-7 align-self-center">
                            Submitted by:
                        </small>
                        <img class=" ms-3 rounded-circle image is-24x24 align-self-center"
                            v-bind:src="submission.avatar" alt="">
                    </div>
                    </p>
                </div>
                <div class="flex-shrink-0">
                    <span class="icon is-small ">
                        <i class="row fa fa-chevron-up" v-on:click="upvote(submission.id)"></i>
                        <strong class="row text-primary">{{submission.votes}}</strong>
                        <i class="row fa fa-chevron-down" v-on:click="downvote(submission.id)"></i>
                    </span>
                </div>
            </div>

        </div>


        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
            crossorigin="anonymous"></script>
        <script src="https://unpkg.com/vue@next"></script>
        <script src="./seed.js"></script>
        <script src="./main.js"></script>
</body>

</html>